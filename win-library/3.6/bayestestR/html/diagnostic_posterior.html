<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>R: Posteriors Sampling Diagnostic</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" type="text/css" href="R.css" />
</head><body>

<table width="100%" summary="page for diagnostic_posterior {bayestestR}"><tr><td>diagnostic_posterior {bayestestR}</td><td style="text-align: right;">R Documentation</td></tr></table>

<h2>Posteriors Sampling Diagnostic</h2>

<h3>Description</h3>

<p>Extract diagnostic metrics (Effective Sample Size (<code>ESS</code>), <code>Rhat</code> and Monte Carlo Standard Error <code>MCSE</code>).
</p>


<h3>Usage</h3>

<pre>
diagnostic_posterior(posteriors, diagnostic = c("ESS", "Rhat"), ...)

## S3 method for class 'stanreg'
diagnostic_posterior(
  posteriors,
  diagnostic = "all",
  effects = c("fixed", "random", "all"),
  parameters = NULL,
  ...
)

## S3 method for class 'brmsfit'
diagnostic_posterior(
  posteriors,
  diagnostic = "all",
  effects = c("fixed", "random", "all"),
  component = c("conditional", "zi", "zero_inflated", "all"),
  parameters = NULL,
  ...
)
</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>posteriors</code></td>
<td>
<p>A stanreg or brms model.</p>
</td></tr>
<tr valign="top"><td><code>diagnostic</code></td>
<td>
<p>Diagnostic metrics to compute.  Character (vector) or list with one or more of these options: <code>"ESS"</code>, <code>"Rhat"</code>, <code>"MCSE"</code> or <code>"all"</code>.</p>
</td></tr>
<tr valign="top"><td><code>...</code></td>
<td>
<p>Currently not used.</p>
</td></tr>
<tr valign="top"><td><code>effects</code></td>
<td>
<p>Should parameters for fixed effects, random effects
or both be returned? Only applies to mixed models. May be abbreviated.</p>
</td></tr>
<tr valign="top"><td><code>parameters</code></td>
<td>
<p>Regular expression pattern that describes the parameters that
should be returned.</p>
</td></tr>
<tr valign="top"><td><code>component</code></td>
<td>
<p>Should all parameters, parameters for the
conditional model, the zero-inflated part of the model, the dispersion
term, the instrumental variables or marginal effects be returned? Applies
to models with zero-inflated and/or dispersion formula, or to models with
instrumental variables (so called fixed-effects regressions), or models
with marginal effects from <span class="pkg">mfx</span>. May be abbreviated. Note that the
<em>conditional</em> component is also called <em>count</em> or <em>mean</em>
component, depending on the model.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><strong>Effective Sample (ESS)</strong> should be as large as possible, although for most applications, an effective sample size greater than 1000 is sufficient for stable estimates (Bürkner, 2017). The ESS corresponds to the number of independent samples with the same estimation power as the N autocorrelated samples. It is is a measure of &ldquo;how much independent information there is in autocorrelated chains&rdquo; (<cite>Kruschke 2015, p182-3</cite>).
<br /> <br />
<strong>Rhat</strong> should be the closest to 1. It should not be larger than 1.1 (<cite>Gelman and Rubin, 1992</cite>) or 1.01 (<cite>Vehtari et al., 2019</cite>). The split R-hat statistic quantifies the consistency of an ensemble of Markov chains.
<br /> <br />
<strong>Monte Carlo Standard Error (MCSE)</strong> is another measure of accuracy of the chains. It is defined as standard deviation of the chains divided by their effective sample size (the formula for <code>mcse()</code> is from Kruschke 2015, p. 187). The MCSE &ldquo;provides a quantitative suggestion of how big the estimation noise is&rdquo;.
</p>


<h3>References</h3>


<ul>
<li><p> Gelman, A., &amp; Rubin, D. B. (1992). Inference from iterative simulation using multiple sequences. Statistical science, 7(4), 457-472.
</p>
</li>
<li><p> Vehtari, A., Gelman, A., Simpson, D., Carpenter, B., \&amp; Bürkner, P. C. (2019). Rank-normalization, folding, and localization: An improved Rhat for assessing convergence of MCMC. arXiv preprint arXiv:1903.08008.
</p>
</li>
<li><p> Kruschke, J. (2014). Doing Bayesian data analysis: A tutorial with R, JAGS, and Stan. Academic Press.
</p>
</li></ul>



<h3>Examples</h3>

<pre>
## Not run: 
# rstanarm models
# -----------------------------------------------
if (require("rstanarm", quietly = TRUE)) {
  model &lt;- stan_glm(mpg ~ wt + gear, data = mtcars, chains = 2, iter = 200, refresh = 0)
  diagnostic_posterior(model)
}

# brms models
# -----------------------------------------------
if (require("brms", quietly = TRUE)) {
  model &lt;- brms::brm(mpg ~ wt + cyl, data = mtcars)
  diagnostic_posterior(model)
}

## End(Not run)
</pre>

<hr /><div style="text-align: center;">[Package <em>bayestestR</em> version 0.7.0 <a href="00Index.html">Index</a>]</div>
</body></html>
